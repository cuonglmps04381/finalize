<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
  <link th:href="@{/css/styles.css}" rel="stylesheet"/>
  <link th:href="@{/font/fonts/material-icon/css/material-design-iconic-font.min.css}" rel="stylesheet"/>
</head>

<body>
<!-- Sign up form -->
<section class="signup">
  <div class="container">
    <div class="signup-content">
      <div class="signup-form">
        <h2 class="form-title">Sign up</h2>
        <form th:action="@{/admin/registration}" th:object="${userDTO}" method="POST" class="register-form" id="register-form" role="form">
          <span th:utext="${successMessage}"></span>

          <div class="form-group">
            <label th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"
                   class="validation-message"></label>
            <label for="firstname"><i class="zmdi zmdi-account material-icons-name"></i></label>
            <input type="text" th:field="*{firstName}" name="firstname" id="firstname" placeholder="First Name"/>
          </div>
          <div class="form-group">
            <label th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"
                   class="validation-message"></label>
            <label for="lastname"><i class="zmdi zmdi-account material-icons-name"></i></label>
            <input type="text" th:field="*{lastName}" name="lastname" id="lastname" placeholder="Last Name"/>
          </div>
          <div class="form-group">
            <label th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                   class="validation-message"></label>
            <label for="email"><i class="zmdi zmdi-email"></i></label>
            <input type="email" th:field="*{email}" name="email" id="email" placeholder="Your Email"/>
          </div>
          <div class="form-group">
            <label th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                   class="validation-message"></label>
            <label for="pass"><i class="zmdi zmdi-lock"></i></label>
            <input type="password"  th:field="*{password}" name="pass" id="pass" placeholder="Password"/>
          </div>
          <div class="form-group">
            <label th:if="${#fields.hasErrors('rePassword')}" th:errors="*{rePassword}"
                   class="validation-message"></label>
            <label for="re_pass"><i class="zmdi zmdi-lock-outline"></i></label>
            <input type="password"  th:field="*{rePassword}" name="re_pass" id="re_pass" placeholder="Repeat your password"/>
          </div>
          <div class="form-group">
            <label th:if="${#fields.hasErrors('checked')}" th:errors="*{checked}"
                   class="validation-message"></label>
            <input type="checkbox" name="agree-term" id="agree-term" class="agree-term" th:checked="*{checked}"/>
            <label for="agree-term" class="label-agree-term"><span><span></span></span>I agree all statements in  <a href="#" class="term-service">Terms of service</a></label>
          </div>
          <div class="form-group form-button">
            <input type="submit" name="signup" id="signup" class="form-submit" value="Register"/>
          </div>
          <div class="form-group form-button">
            <a th:href="@{~/login.html}"> </a>
          </div>
        </form>
      </div>
      <div class="signup-image">
        <figure><img th:src="@{../images/signup-image.jpg}" alt="sing up image"></figure>
        <a href="#" class="signup-image-link">I am already member</a>
      </div>
    </div>
  </div>
</section>
<!-- Jquery -->
<script  type="text/javascript" th:src="@{/js/jquery-3.1.1.min.js}"></script>

<script th:inline="javascript">
  $( document ).ready(function() {

        /*$( "#signup" ).submit(function(event) {
          if ($("#pass").val().trim() === $("#re_pass").val().trim()) {
            event.preventDefault();
            var form = $('#register-form')[0];
            var data = new FormData(form);
            $.ajax({
              type: "POST",
              url: "/admin/registration",
              data: data,
              processData: false,
              contentType: false,
              cache: false,
              timeout: 800000,
              success: function (data) {
                /!*if (data) {
                  location.reload();
                }*!/
              },
              error: function (e) {
              }
            });
          }
        });*/
  });
</script>
</body>
</html>
